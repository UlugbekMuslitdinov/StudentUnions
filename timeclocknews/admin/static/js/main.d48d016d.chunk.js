(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,n){e.exports=n(474)},211:function(e,t,n){},262:function(e,t,n){},266:function(e,t,n){},474:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(61),c=n.n(o),i=(n(211),n(26)),s=n(27),l=n(29),u=n(28),p=n(30),m=n(476),d=n(478),b=n(477),h=n(19);var f=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0"},r.a.createElement("a",{className:"navbar-brand col-sm-3 col-md-2 mr-0",href:"/"},"Arizona Student Unions"))}}]),t}(a.Component),E=Object(h.b)(function(e){return{state:e}})(f),O=n(20),v=n(200),j=n.n(v),y=n(78),g=n.n(y),D="FETCH_LIST",N="FETCH_LIST_SUCCESS",S="FETCH_LIST_FAILED";function w(){return function(e){e({type:D}),g()("/timeclocknews/admin/get_slides.php").then(function(e){return e.json()}).then(function(t){return e({type:N,list:t})}).catch(function(t){return e(function(e){return{type:S,err:e}}(t))})}}var k="UPLOAD_ROUTE";var C="ADD_PICTURE";var U="UPLOAD_PICTURE",A="UPLOAD_PICTURE_SUCCESS",R="UPLOAD_PICTURE_FAILED";function _(e){return function(t){return new Promise(function(n,a){t({type:U});var r=new FormData;e.forEach(function(e,t){r.append(t,e)}),g()("/timeclocknews/admin/upload.php",{body:r,method:"POST"}).then(function(e){return e.json()}).then(function(e){return t(function(e){return{type:A,res:e}}(e))}).then(function(){return n()}).catch(function(e){t(function(e){return{type:R,err:e}}(e)),a(e)})})}}var T="REORDER";var L="REORDER_UPLOAD",P="REORDER_UPLOAD_SUCCESS",x="REORDER_UPLOAD_FAILED";function I(e){return function(t){t({type:L}),g()("/timeclocknews/admin/change_order.php",{body:JSON.stringify(e),method:"POST"}).then(function(e){return e.json()}).then(function(e){return t({type:P,list:e})}).catch(function(e){return t(function(e){return{type:x,err:e}}(e))})}}var F="DELETE",J="DELETE_SUCCESS",B="DELETE_FAILED";function H(e){return function(t){t({type:F}),g()("/timeclocknews/admin/delete.php",{body:JSON.stringify({name:e}),method:"POST"}).then(function(e){return e.json()}).then(function(e){return t({type:J,list:e})}).catch(function(e){return t(function(e){return{type:B,err:e}}(e))})}}var M="DISMISS_ALERT";n(262);var z=n(201),W=(n(264),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).confirmDeletion=function(e){Object(z.confirmAlert)({title:"Delete",message:"Are you sure you want to delete this image?",buttons:[{label:"Yes",onClick:function(){return n.props.delete(e)}},{label:"No",onClick:function(){}}]})},n.confirmDeletion=n.confirmDeletion.bind(Object(O.a)(Object(O.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchList()}},{key:"render",value:function(){var e=this,t=this,n={onDragEnd:function(e,n){t.props.reorder(e,n)},nodeSelector:"li",handleSelector:"li"},a=this.props.state.list;return r.a.createElement("div",{className:"table"},r.a.createElement(j.a,n,r.a.createElement("ul",null,a.map(function(t,n){return r.a.createElement("li",{className:"card",style:{textAlign:"center"},key:n},r.a.createElement("a",{href:t.path,"data-toggle":"lightbox"},r.a.createElement("img",{className:"card-img-top",src:t.path,alt:"card",style:{height:"200px",width:"auto"}})),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"Inserted on ",t.insertion_date),r.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:function(){return e.confirmDeletion(t.name)}},"Delete")))}))))}}]),t}(a.Component)),Y=Object(h.b)(function(e){return{state:e}},function(e){return{fetchList:function(){return e(w())},reorder:function(t,n){return e(function(e,t){return{type:T,from:e,to:t}}(t,n))},delete:function(t){return e(H(t))}}})(W);n(266);var $=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).uploadNewOrder=n.uploadNewOrder.bind(Object(O.a)(Object(O.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"uploadNewOrder",value:function(){this.props.reorderUpload(this.props.state.list)}},{key:"render",value:function(){var e,t,n=this,a=this.props.state,o=a.operationSuccess,c=a.errors,i=a.postOperation,s=a.operation,l=a.showAlert;return e=c.length>0?c.map(function(e,t){return r.a.createElement("div",{key:t,className:"alert alert-danger alert-dismissible fade show"},e,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}):null,t=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show",role:"alert"},s," Successful!",r.a.createElement("button",{type:"button",className:"close",onClick:function(){return n.props.dismissAlert()},"aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",null,c.length>0?e:null,o&&i&&l?t:null,r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:"display-4 col-md-10"},"Time Clock News Dashboard"),r.a.createElement("div",{className:"btn-toolbar mb-2 mb-md-0 col-md-2"},r.a.createElement("div",{className:"btn-group mr-2"},r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.uploadNewOrder},"Save Order")))),r.a.createElement("hr",null),r.a.createElement(Y,null))}}]),t}(a.Component),q=Object(h.b)(function(e){return{state:e}},function(e){return{reorderUpload:function(t){return e(I(t))},dismissAlert:function(){return e({type:M})}}})($),G=n(202),K=n.n(G);var Q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onDrop=n.onDrop.bind(Object(O.a)(Object(O.a)(n))),n.onSubmit=n.onSubmit.bind(Object(O.a)(Object(O.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.uploadRoute()}},{key:"onDrop",value:function(e){this.props.setPictures(e)}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.props.uploadPictures(this.props.state.pictures).then(function(){return t.props.history.push("/")}).catch(function(e){})}},{key:"render",value:function(){var e,t=this.props.state.pictures;return e=this.props.errors.length>0?this.props.errors.map(function(e,t){return r.a.createElement("div",{key:t,className:"alert alert-danger"},e)}):null,r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4"},"Upload"),r.a.createElement("hr",null),e,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(K.a,{withIcon:!0,buttonText:"Choose images",onChange:this.onDrop,imgExtension:[".jpg",".gif",".png"],maxFileSize:5242880,withPreview:!0}),t.length>0?r.a.createElement("div",{className:"text-center",style:{margin:"20px"}},r.a.createElement("button",{className:"btn btn-lg btn-outline btn-primary",type:"submit"},"Upload")):null),r.a.createElement("br",null))}}]),t}(a.Component),V=Object(h.b)(function(e){return{state:e,errors:e.errors}},function(e){return{uploadRoute:function(){return e({type:k})},setPictures:function(t){return e(function(e){return{type:C,pictures:e}}(t))},uploadPictures:function(t){return e(_(t))}}})(Q),X=n(475);var Z=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.state.nav;return r.a.createElement("nav",{style:{marginTop:"48px"},className:"col-md-2 bg-light sidebar"},r.a.createElement("div",{className:"sidebar-sticky"},r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link "+("Dashboard"===e?"active":""),to:"/"},r.a.createElement("span",{className:"fa fa-desktop",style:{marginRight:"15px"}}),"Dashboard ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(X.a,{className:"nav-link "+("Upload"===e?"active":""),to:"/Upload"},r.a.createElement("span",{className:"fa fa-upload",style:{marginRight:"15px"}}),"Upload")))))}}]),t}(a.Component),ee=Object(h.b)(function(e){return{state:e}})(Z),te=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/timeclocknews/admin"},r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(ee,null),r.a.createElement("div",{role:"main",className:"col-md-10 ml-sm-auto col-lg-10 pt-3 px-4"},r.a.createElement(d.a,null,r.a.createElement(b.a,{exact:!0,path:"/(|index.php)/",component:q}),r.a.createElement(b.a,{path:"/Upload",component:V})))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=n(77),ae=n(14),re={errors:[],list:[],loading:!1,nav:"Dashboard",pictures:[],postOperation:!1,operation:"",operationSuccess:!1};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(ae.a)({},e,{loading:!0,nav:"Dashboard"});case N:var n=t.list;return Object(ae.a)({},e,{loading:!1,list:n,nav:"Dashboard"});case S:var a=e.errors;return a.push(t.err),Object(ae.a)({},e,{errors:a,loading:!1,nav:"Dashboard"});case k:return Object(ae.a)({},e,{nav:"Upload"});case C:var r=t.pictures;return Object(ae.a)({},e,{pictures:r});case A:return Object(ae.a)({},e,{errors:[],operation:"Upload",operationSuccess:!0,postOperation:!0,showAlert:!0});case R:var o=e.errors;return o.push(t.err),Object(ae.a)({},e,{errors:o,operation:"Upload",operationSuccess:!1,postOperation:!0});case T:var c=e.list,i=c.splice(t.from,1)[0];return c.splice(t.to,0,i),Object(ae.a)({},e,{list:c});case L:return Object(ae.a)({},e,{postOperation:!1,loading:!0});case P:var s=t.list;return Object(ae.a)({},e,{errors:[],loading:!1,operation:"Reorder",operationSuccess:!0,postOperation:!0,showAlert:!0,list:s});case x:var l=e.errors;return l.push(t.err),Object(ae.a)({},e,{loading:!1,operation:"Reorder",operationSuccess:!1,postOperation:!0,errors:l});case F:return Object(ae.a)({},e,{postOperation:!1,loading:!0});case J:var u=t.list;return Object(ae.a)({},e,{loading:!1,list:u,operation:"Delete",operationSuccess:!0,postOperation:!0,showAlert:!0});case B:var p=e.errors;return p.push(t.err),Object(ae.a)({},e,{loading:!1,operation:"Delete",operationSuccess:!1,postOperation:!0,errors:p});case M:return Object(ae.a)({},e,{showAlert:!1});default:return e}},ce=n(204),ie=(n(273),Object(ne.c)(oe,Object(ne.a)(ce.a)));c.a.render(r.a.createElement(h.a,{store:ie},r.a.createElement(te,null)),document.getElementById("root")),c.a.render(r.a.createElement(h.a,{store:ie},r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[206,2,1]]]);
//# sourceMappingURL=main.d48d016d.chunk.js.map