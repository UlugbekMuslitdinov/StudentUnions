<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>
<!-- <script type="text/javascript" src="crossfade.js"></script> -->
<style type="text/css">
body { padding:0; margin:0;}
#gallery { position: relative; width:1280px; height:1023px; margin: auto; padding:0; }
#gallery li { display: block; }
#gallery img { display: block; }
</style>

<script type="text/javascript">
function check_connection_and_reload(){
		var xmlHttp;

try
  {
  // Firefox, Opera 8.0+, Safari
  xmlHttp=new XMLHttpRequest();
  }
catch (e)
  {
  // Internet Explorer
  try
    {
    xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
    }
  catch (e)
    {
    try
      {
      xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
      }
    catch (e)
      {
      alert("Your browser does not support AJAX!");
      return false;
      }
    }
  }

xmlHttp.onreadystatechange = function() {
	if(xmlHttp.readyState==4) {
		if(xmlHttp.responseText=='success') {
			window.location='./index.html';
		}
	}
};
xmlHttp.open("POST", './checkserver.php', true);
xmlHttp.send('');

}
</script>

</head>

<body>

<ul id="gallery" style="display: none;">
	<!-- Last updated on 6/26/2/17. --> 
	<!-- <li><img src="Slide1.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide2.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide3.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide4.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide5.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide6.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide7.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide8.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide9.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide10.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide11.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide12.JPG" alt="" width="1280" height="1023" /></li>    
	<li><img src="Slide13.JPG" alt="" width="1280" height="1023" /></li>
    <li><img src="Slide14.JPG" alt="" width="1280" height="1023" /></li>
    <li><img src="Slide15.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide16.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide17.JPG" alt="" width="1280" height="1023" /></li>	
	<li><img src="Slide18.JPG" alt="" width="1280" height="1023" /></li>	
	<li><img src="Slide19.JPG" alt="" width="1280" height="1023" /></li>	 -->
	<!--
	<li><img src="Slide20.JPG" alt="" width="1280" height="1023" /></li>	
	<li><img src="Slide21.JPG" alt="" width="1280" height="1023" /></li>	
	<li><img src="Slide22.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide23.JPG" alt="" width="1280" height="1023" /></li>	
	
	<li><img src="Slide24.JPG" alt="" width="1280" height="1023" /></li>	
	<li><img src="Slide25.JPG" alt="" width="1280" height="1023" /></li>	
	<li><img src="Slide26.JPG" alt="" width="1280" height="1023" /></li>
	
	<li><img src="Slide27.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide28.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide29.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide30.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide31.JPG" alt="" width="1280" height="1023" /></li>
	<li><img src="Slide32.JPG" alt="" width="1280" height="1023" /></li>
	-->
</ul>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$.getJSON( "images.json", function( data ) {
			var items = [];
			var img_list = data[0].list;
			var print = '';
			for (var i = 0; i < img_list.length; i++) {
				print += '<div class="Wallop-item">';
				print += '<img src="slides/';
				print += img_list[i];
				print += '" style="width:100%;">';
				print += '</div>';
			}
			$('.Wallop-list').html(print);
		});
	});
</script>

<link rel="stylesheet" type="text/css" href="/dining/template/lib/wallop/wallop.css">
<link rel="stylesheet" type="text/css" href="/dining/template/lib/wallop/wallop--fade.css">
<div class="Wallop Wallop--fade">
	<div class="Wallop-list">
	</div>
	<button class="Wallop-buttonPrevious">Previous</button>
  	<button class="Wallop-buttonNext">Next</button>
</div>


</body>

</html>

<script src="/dining/template/lib/wallop/Wallop.min.js"></script>
<script type="text/javascript">

var wallopEl = document.querySelector('.Wallop');
var slider;


var checkExist = setInterval(function() {
    if ($('.Wallop-list').length) {
      	console.log("Exists!");
      	clearInterval(checkExist);
 		slider = new Wallop(wallopEl);
      	autoplay(3000);
    }
    else
    {
    	console.log("Checking");
    }
}, 100); // check every 100ms

 
 function autoplay(interval) {
 	var lastTime = 0;  
 	function frame(timestamp) {
 		var update = timestamp - lastTime >= interval;
 		if (update) {
 			slider.next();
 			lastTime = timestamp;
 		}
 		requestAnimationFrame(frame);
 	}
 	requestAnimationFrame(frame);
 };
 </script>

<script type="text/javascript">

// check every 10 mins
// setInterval(check_connection_and_reload, 300000);

// testing interval for every 30 seconds
// setInterval(check_connection_and_reload, 10000);

</script>
