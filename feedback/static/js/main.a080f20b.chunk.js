(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(62)},46:function(e,t,a){},47:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),l=(a(46),a(10)),i=a(11),u=a(13),s=a(12),m=a(14),d=(a(47),a(5)),f=a(63),b=a(73),h=a(64),p=a(65),E=a(66),v=a(67),O=a(68),j=a(40),g=a(19),y="FETCH_LIST",k="FETCH_LIST_SUCCESS",C="FETCH_LIST_FAILED";function T(){return function(e){e({type:y}),fetch("/feedback/api/get_locations.php").then(function(e){return e.json()}).then(function(t){return e({type:k,locations:t})}).catch(function(t){return e(function(e){return{type:C,err:e}}(t))})}}var x="UPDATE_LOCATIONS";var w="ADD_FEEDBACK";var S="UPDATE_TEXT";var _="FORM_SUBMIT",L="FORM_SUBMIT_SUCCESS",F="FORM_SUBMIT_FAILED";function N(){return function(e,t){e({type:_});var a=t(),n={name:a.name,email:a.email,feedback:a.feedback};fetch("/feedback/api/insert_feedback.php",{body:JSON.stringify(n),method:"POST"}).then(function(e){if(e.ok)return e.json();throw new Error("An error occurred.")}).then(function(t){return e(function(e){return{type:L,res:e}}(t))}).catch(function(t){e({type:F})})}}var A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={options:[],selectedOption:null},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchList()}},{key:"handleChange",value:function(e){this.props.updateLocations(e)}},{key:"render",value:function(){var e=this,t=this.props.state,a=t.selectedLocations,n=t.locations;return r.a.createElement(j.a,{isMulti:!0,name:"colors",onChange:function(t){return e.handleChange(t)},options:n,value:a,className:"basic-multi-select",classNamePrefix:"select"})}}]),t}(n.Component),I=Object(g.b)(function(e){return{state:e}},function(e){return{fetchList:function(){return e(T())},updateLocations:function(t){return e(function(e){return{type:x,locations:e}}(t))}}})(A);var M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleText=a.handleText.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleText",value:function(e){var t=e.target,a=t.value,n=t.name;this.props.updateText(n,a)}},{key:"render",value:function(){var e=this,t=this.props.state,a=t.selectedLocations,n=t.errors,c=t.submitted;return r.a.createElement("div",null,r.a.createElement("h2",{className:"display-4",style:{color:"#003366"}},"Feedback Form"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement(f.a,null,n.length>0?r.a.createElement(b.a,{color:"danger"},"An error occurred."):null,0===n.length&&c?r.a.createElement(b.a,{color:"success"},"Form submitted successfully!"):null,r.a.createElement(h.a,{row:!0},r.a.createElement(p.a,{for:"name",sm:2},"Name"),r.a.createElement(E.a,{sm:10},r.a.createElement(v.a,{onChange:this.handleText,type:"text",name:"name",id:"name",placeholder:"Name"}))),r.a.createElement(h.a,{row:!0},r.a.createElement(p.a,{for:"email",sm:2},"Email"),r.a.createElement(E.a,{sm:10},r.a.createElement(v.a,{onChange:this.handleText,type:"email",name:"email",id:"email",placeholder:"example@email.arizona.edu"}))),r.a.createElement(h.a,{row:!0},r.a.createElement(p.a,{for:"exampleSelectMulti",sm:2},"Select Locations",r.a.createElement("sup",{className:"text-danger"},"*")),r.a.createElement(E.a,{sm:10},r.a.createElement(I,{required:!0}))),a.map(function(t,a){return r.a.createElement(h.a,{key:a,row:!0},r.a.createElement(p.a,{style:{color:"#CC0033"},for:"exampleText",sm:2},t.value,r.a.createElement("sup",{className:"text-danger"},"*")),r.a.createElement(E.a,{sm:10},r.a.createElement(v.a,{type:"textarea",onChange:function(a){return e.props.feedback(t.value,a.target.value)},name:t.value+"_feedback",id:"feedback_box"})))}),r.a.createElement(h.a,{check:!0,row:!0},r.a.createElement(E.a,{sm:{size:10,offset:2}},r.a.createElement(O.a,{color:"outline-success",onClick:this.props.submitForm},"Submit")))))}}]),t}(r.a.Component),U=Object(g.b)(function(e){return{state:e}},function(e){return{feedback:function(t,a){return e(function(e,t){return{type:w,location:e,text:t}}(t,a))},submitForm:function(){return e(N())},updateText:function(t,a){return e(function(e,t){return{type:S,field:e,text:t}}(t,a))}}})(M),D=a(71),B=a(72),z=a(69),P=a(70),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).toggleNavbar=a.toggleNavbar.bind(Object(d.a)(Object(d.a)(a))),a.state={collapsed:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{color:"primary",dark:!0},r.a.createElement(P.a,{href:"/",className:"mr-auto"},"Arizona Student Unions")))}}]),t}(r.a.Component),J=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(D.a,null,r.a.createElement(B.a,null,r.a.createElement(U,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(61);var R=a(17),W=a(21),q=a(8),K={errors:[],list:[],loading:!1,locations:[],feedback:{},name:"",email:"",selectedLocations:[],submitted:!1};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(q.a)({},e,{loading:!0});case k:for(var a=t.locations,n=0;n<a.length;n++){var r=a[n];"Uncategorized"===r.location_name&&(a[n]=a[0],a[0]=r)}return a.map(function(e){e.value=e.location_name,e.label=e.location_name}),Object(q.a)({},e,{loading:!1,locations:a});case C:var c=e.errors;return c.push(t.err),Object(q.a)({},e,{errors:c,loading:!1});case x:return Object(q.a)({},e,{selectedLocations:t.locations});case w:var o=e.feedback;return o[t.location]=t.text,Object(q.a)({},e,{feedback:o});case S:var l=t.field,i=t.text;return Object(q.a)({},e,Object(W.a)({},l,i));case _:return Object(q.a)({},e,{loading:!0});case L:return Object(q.a)({},e,{submitted:!0,loading:!1,errors:[],feedback:{},selectedLocations:[]});case F:var u=e.errors;return u.push(t.err),Object(q.a)({},e,{submitted:!0,loading:!1,errors:u});default:return e}},$=a(37),G=a(38),Q=a.n(G),V=Object(R.d)(X,Object(R.c)(Object(R.a)($.a),Object(R.a)(Q.a)));o.a.render(r.a.createElement(g.a,{store:V},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.a080f20b.chunk.js.map